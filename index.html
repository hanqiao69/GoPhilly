<!doctype html>
<html lang="en">
<head>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.indigo-pink.min.css">
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmwfHqSrAdndSlnD3DArI_4jgoND6PArY"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>

	<div id="header">
		<div id="owl"><img src="goOwl.png" height=100px></div>
		<h1>Go Philly</h1>

		<form div="search">
			Starting Location:<br>
			<input type="text" name="">
			<br>
			Destination:<br>
			<input type="text" name="">
		</form>
		<br><button id="searchButton" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">Search</button>
		<br>
		<br>
		<center>
			<textarea rows="4" cols="50" id="output"></textarea>
		</center>
	</div>
	
	<div id="footer">Copyright the Hans and Hers</div>
	<script>
	var mincost = 0;
	$(document).ready(function () {
		$('#searchButton').click(function () {
			getLatLng();
			$.ajax({
				type: "GET",
				url: "https://api.lyft.com/v1/cost?start_lat=37.7833&start_lng=-122.4167&end_lat=40&end_lng=-80",
				dataType: "json",
				beforeSend: function (xhr) {
					xhr.setRequestHeader("Authorization", "Bearer " + 'gAAAAABWyL8F5kJFnpssm5TKqtQc76E0_P2uytuDUZeFty4qVVFx4rYltDWxZ2vxuiLnTlqNGUEAqQuSAnl1vVYIZDKLvpAK29cc5qFoDJAJ0eEMTgjx9Qtho6OVNSrsT-BYq__I4yAN14qUpVKcFg1v8dTcjTbAOiPGkEiVmSiIV94xKbCn6UdRBk107IFMzvQRvU7QGubbNCkM8FvQwtAmCqEA3jZhxA==');
				},
				success: function(data) {
					var json =JSON.stringify(data);
					var obj = jQuery.parseJSON(json); 
					// console.log(obj.cost_estimates[2]);
					console.log("heyo");
					if (obj.cost_estimates[2].ride_type === "lyft") {
						console.log("what up");
						alert( obj.cost_estimates[2].estimated_cost_cents_min );
						mincost = obj.cost_estimates[2].estimated_cost_cents_min;

						document.getElementById("output").value = mincost;

					}
					// alert(JSON.stringify(data));
				},
				error: function() {
					alert("cannot get data");
				}
			});
})
});
</script>
<script>
function getLatLng(location_name) {
	var geocoder = new google.maps.Geocoder;
	var location;
	geocoder.geocode({'address': address}, function(results) {
		location = results[0].geometry.location;
		console.log(location);
	});
}
</script>
</body>
</html>
